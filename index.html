<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>4æŠã‚¯ã‚¤ã‚º</title>
<style>
  :root{--bg:#0b1020;--card:#111827;--text:#e5e7eb;--muted:#94a3b8;--ok:#16a34a;--ng:#dc2626;--accent:#3b82f6}
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,"Noto Sans JP",sans-serif;display:flex;align-items:center;justify-content:center;padding:20px}
  .card{width:min(720px,100%);background:var(--card);border:1px solid rgba(255,255,255,.1);border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,.45);padding:22px}
  h1{margin:0 0 10px;font-size:20px}
  .desc{margin:0 0 16px;color:var(--muted);font-size:14px}
  .question{margin:6px 0 14px;font-size:18px;font-weight:800}
  .choices{display:grid;gap:10px}
  .choice{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.12);border-radius:12px;overflow:hidden}
  .choice button{all:unset;display:block;width:100%;padding:14px;cursor:pointer}
  .choice:hover{border-color:rgba(255,255,255,.28)}
  .choice.wrong{border-color:rgba(220,38,38,.7);background:rgba(220,38,38,.12)}
  .result{margin-top:14px;padding:12px;border-radius:12px;display:none}
  .result.ok{background:rgba(22,163,74,.15);border:1px solid rgba(22,163,74,.45)}
  .result.ng{background:rgba(220,38,38,.15);border:1px solid rgba(220,38,38,.45)}
  .kw{display:inline-block;margin-top:8px;padding:6px 10px;border-radius:10px;background:rgba(59,130,246,.18);border:1px solid rgba(59,130,246,.45);font-weight:700}
  .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
  .btn{appearance:none;border:none;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer;color:white;background:linear-gradient(180deg,rgba(59,130,246,.9),rgba(59,130,246,.6))}
  .btn.alt{background:linear-gradient(180deg,rgba(148,163,184,.35),rgba(51,65,85,.35))}
  footer{margin-top:12px;color:var(--muted);font-size:12px;display:flex;justify-content:space-between;gap:8px;flex-wrap:wrap}
</style>
</head>
<body>
  <main class="card">
    <h1>4æŠã‚¯ã‚¤ã‚º</h1>
    <p class="desc">æ­£ã—ã„ã¨æ€ã†é¸æŠè‚¢ã‚’1ã¤é¸ã‚“ã§ãã ã•ã„ã€‚</p>

    <div id="quiz">
      <div id="qText" class="question"></div>
      <div id="choices" class="choices" role="group" aria-labelledby="qText"></div>

      <div id="resOK" class="result ok" role="status" aria-live="assertive">
        <strong>ğŸ‰ æ­£è§£ï¼</strong>
        <div id="keyword" class="kw" style="display:none"></div>
      </div>
      <div id="resNG" class="result ng" role="status" aria-live="assertive">
        <strong>ğŸ˜µ æ®‹å¿µâ€¦</strong> ã‚‚ã†ä¸€åº¦ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼
      </div>

      <div class="controls">
        <button id="retryBtn" class="btn alt">ãƒªã‚»ãƒƒãƒˆ</button>
      </div>
    </div>

    <footer>
      <span>Single HTML / No libraries</span>
      <span>ç·¨é›†ç®‡æ‰€ï¼š<code>QUIZ_DATA</code></span>
    </footer>
  </main>

<script>
/* ====== ã‚¯ã‚¤ã‚ºå®šç¾©ï¼ˆã“ã“ã‚’æ›¸ãæ›ãˆã¦ä½¿ã„ã¾ã™ï¼‰ ====== */
const QUIZ_DATA = {
  question: "ã‚‚ã‚“ã ã„2 ãœã‚“ã¤ã†ã˜ã— ã—ã¿ã‚“ãƒ—ãƒ¼ãƒ«ã«ã€€ãªã„ã‚‚ã®ã¯ã€€ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
  choices: [
    "A. ã‚¹ãƒ‘ã‚¤ãƒ©ãƒ«ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼",
    "B. ã‚Šã‚…ã†ã™ã„ãƒ—ãƒ¼ãƒ«",
    "C. ã‚ã‚‰ãªã¿ãƒ—ãƒ¼ãƒ«",
    "D. ãã†ã¯ãƒ—ãƒ¼ãƒ«"
  ],
  correctIndex: 2,        // 0å§‹ã¾ã‚Šï¼ˆBãŒæ­£è§£ãªã‚‰ 1ï¼‰
  keywordOnCorrect: "ã†" // æ­£è§£æ™‚ã«è¡¨ç¤ºã™ã‚‹ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆä¸è¦ãªã‚‰ "" ã«ï¼‰
};
/* ===================================================== */

const $ = (id)=>document.getElementById(id);
const qText = $("qText");
const choicesEl = $("choices");
const resOK = $("resOK");
const resNG = $("resNG");
const keyword = $("keyword");
const retryBtn = $("retryBtn");

let locked = false;

function renderQuiz(){
  locked = false;
  resOK.style.display = "none";
  resNG.style.display = "none";
  keyword.style.display = "none";
  keyword.textContent = "";

  qText.textContent = QUIZ_DATA.question;
  choicesEl.innerHTML = "";

  QUIZ_DATA.choices.forEach((text, idx)=>{
    const wrap = document.createElement("div");
    wrap.className = "choice";
    const btn = document.createElement("button");
    btn.textContent = text;
    btn.setAttribute("aria-label", `é¸æŠè‚¢${idx+1}: ${text}`);
    btn.onclick = () => onChoose(idx, wrap);
    wrap.appendChild(btn);
    choicesEl.appendChild(wrap);
  });
}

function onChoose(idx, wrap){
  if (locked) return;
  locked = true;

  const correct = idx === QUIZ_DATA.correctIndex;

  // å…¨ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹æ›´æ–°
  const items = Array.from(document.querySelectorAll(".choice"));
  items.forEach((el, i)=>{
    el.classList.remove("correct","wrong");
    if (i === QUIZ_DATA.correctIndex) el.classList.add("correct");
  });
  if (!correct) wrap.classList.add("wrong");

  // çµæœè¡¨ç¤º
  resOK.style.display = correct ? "block" : "none";
  resNG.style.display = correct ? "none" : "block";

  // æ­£è§£ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆä»»æ„ï¼‰
  if (correct && QUIZ_DATA.keywordOnCorrect){
    keyword.textContent = "ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼š" + QUIZ_DATA.keywordOnCorrect;
    keyword.style.display = "inline-block";
  }
}

retryBtn.addEventListener("click", renderQuiz);

// åˆæœŸè¡¨ç¤º
renderQuiz();
</script>
</body>
</html>
